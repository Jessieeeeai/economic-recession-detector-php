<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>亮子财经·经济衰退检测仪 | Giant Cutie Economic Recession Detector</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link href="assets/css/main.css" rel="stylesheet">
    
    <style>
        /* 黑金主题样式 */
        :root {
            --primary-bg: #0d1117;
            --secondary-bg: #161b22;
            --card-bg: #21262d;
            --border-color: #30363d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --accent-gold: #ffd700;
            --accent-gold-hover: #ffed4e;
            --danger-red: #da3633;
            --warning-orange: #fb8500;
            --success-green: #238636;
        }

        body {
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--text-primary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }

        .navbar {
            background: rgba(13, 17, 23, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }

        .navbar-brand {
            color: var(--accent-gold) !important;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .card-header {
            background: rgba(255, 215, 0, 0.1);
            border-bottom: 1px solid var(--border-color);
            color: var(--accent-gold);
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--accent-gold), var(--accent-gold-hover));
            border: none;
            color: var(--primary-bg);
            font-weight: bold;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, var(--accent-gold-hover), var(--accent-gold));
            transform: translateY(-2px);
        }

        .risk-high { color: var(--danger-red); }
        .risk-medium { color: var(--warning-orange); }
        .risk-low { color: var(--success-green); }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner-border {
            color: var(--accent-gold);
        }

        .table-dark {
            background: var(--card-bg);
            color: var(--text-primary);
        }

        .table-dark td, .table-dark th {
            border-color: var(--border-color);
        }

        .language-switcher {
            background: transparent;
            border: 1px solid var(--accent-gold);
            color: var(--accent-gold);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }

        .language-switcher:hover {
            background: var(--accent-gold);
            color: var(--primary-bg);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
            
            .navbar-brand {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line me-2"></i>
                <span id="brand-text">亮子财经·经济衰退检测仪</span>
            </a>
            
            <div class="navbar-nav ms-auto">
                <button class="btn language-switcher" onclick="toggleLanguage()">
                    <i class="fas fa-globe me-1"></i>
                    <span id="lang-switch">EN</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="container mt-5 pt-4">
        <!-- 主标题和风险评分 -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header text-center">
                        <h2 id="main-title">实时经济衰退风险评估</h2>
                        <p id="subtitle" class="mb-0">基于美联储经济数据 (FRED) 的智能分析</p>
                    </div>
                    <div class="card-body text-center">
                        <div class="row">
                            <div class="col-md-4">
                                <h3 id="risk-score-label">当前风险评分</h3>
                                <div class="display-4" id="risk-score">
                                    <div class="loading">
                                        <div class="spinner-border" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h3 id="risk-level-label">风险等级</h3>
                                <div class="display-6" id="risk-level">
                                    <div class="loading">
                                        <div class="spinner-border" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h3 id="last-update-label">数据更新时间</h3>
                                <div id="last-update">
                                    <div class="loading">
                                        <div class="spinner-border" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 图表区域 -->
        <div class="row mb-4">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h4 id="chart-risk-title">风险趋势图</h4>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="riskChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h4 id="chart-indicators-title">关键指标</h4>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="indicatorsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 数据表格 -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 id="table-title">详细经济指标数据</h4>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-dark table-striped">
                                <thead>
                                    <tr>
                                        <th id="th-indicator">指标</th>
                                        <th id="th-current">当前值</th>
                                        <th id="th-change">变化</th>
                                        <th id="th-risk">风险贡献</th>
                                        <th id="th-updated">更新时间</th>
                                    </tr>
                                </thead>
                                <tbody id="indicators-table">
                                    <tr>
                                        <td colspan="5" class="text-center">
                                            <div class="loading">
                                                <div class="spinner-border" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 说明信息 -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 id="info-title">使用说明</h4>
                    </div>
                    <div class="card-body">
                        <div id="info-content">
                            <div class="loading">
                                <div class="spinner-border" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // 语言管理
        let currentLanguage = 'zh';
        
        const translations = {
            zh: {
                brand: '亮子财经·经济衰退检测仪',
                mainTitle: '实时经济衰退风险评估',
                subtitle: '基于美联储经济数据 (FRED) 的智能分析',
                riskScoreLabel: '当前风险评分',
                riskLevelLabel: '风险等级',
                lastUpdateLabel: '数据更新时间',
                chartRiskTitle: '风险趋势图',
                chartIndicatorsTitle: '关键指标',
                tableTitle: '详细经济指标数据',
                thIndicator: '指标',
                thCurrent: '当前值',
                thChange: '变化',
                thRisk: '风险贡献',
                thUpdated: '更新时间',
                infoTitle: '使用说明',
                langSwitch: 'EN',
                riskLevels: {
                    low: '低风险',
                    medium: '中等风险',
                    high: '高风险'
                },
                infoContent: `
                    <h5>关于经济衰退检测</h5>
                    <p>本系统基于美联储经济数据(FRED)，使用多指标综合分析法评估经济衰退风险：</p>
                    <ul>
                        <li><strong>失业率</strong>：萨姆法则(Sahm Rule)检测</li>
                        <li><strong>收益率曲线</strong>：10年-2年期国债利差分析</li>
                        <li><strong>领先指标</strong>：OECD综合领先指标</li>
                        <li><strong>消费者信心</strong>：密歇根大学消费者信心指数</li>
                        <li><strong>工业生产</strong>：工业生产指数年比变化</li>
                        <li><strong>初请失业金</strong>：每周初次申请失业保险人数</li>
                    </ul>
                    <p>数据每日自动更新，提供最新的经济状况评估。</p>
                `
            },
            en: {
                brand: 'Giant Cutie Economic Recession Detector',
                mainTitle: 'Real-time Economic Recession Risk Assessment',
                subtitle: 'Intelligent Analysis Based on Federal Reserve Economic Data (FRED)',
                riskScoreLabel: 'Current Risk Score',
                riskLevelLabel: 'Risk Level',
                lastUpdateLabel: 'Data Updated',
                chartRiskTitle: 'Risk Trend',
                chartIndicatorsTitle: 'Key Indicators',
                tableTitle: 'Detailed Economic Indicators',
                thIndicator: 'Indicator',
                thCurrent: 'Current',
                thChange: 'Change',
                thRisk: 'Risk Contribution',
                thUpdated: 'Updated',
                infoTitle: 'About',
                langSwitch: '中文',
                riskLevels: {
                    low: 'Low Risk',
                    medium: 'Medium Risk',
                    high: 'High Risk'
                },
                infoContent: `
                    <h5>About Recession Detection</h5>
                    <p>This system uses Federal Reserve Economic Data (FRED) with multi-indicator analysis to assess recession risk:</p>
                    <ul>
                        <li><strong>Unemployment Rate</strong>: Sahm Rule detection</li>
                        <li><strong>Yield Curve</strong>: 10Y-2Y Treasury spread analysis</li>
                        <li><strong>Leading Indicator</strong>: OECD Composite Leading Indicator</li>
                        <li><strong>Consumer Confidence</strong>: University of Michigan Consumer Sentiment</li>
                        <li><strong>Industrial Production</strong>: Industrial Production Index YoY</li>
                        <li><strong>Initial Claims</strong>: Weekly Initial Jobless Claims</li>
                    </ul>
                    <p>Data is automatically updated daily to provide the latest economic assessment.</p>
                `
            }
        };

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
            updateLanguage();
        }

        function updateLanguage() {
            const lang = translations[currentLanguage];
            
            // 更新页面文本
            document.getElementById('brand-text').textContent = lang.brand;
            document.getElementById('main-title').textContent = lang.mainTitle;
            document.getElementById('subtitle').textContent = lang.subtitle;
            document.getElementById('risk-score-label').textContent = lang.riskScoreLabel;
            document.getElementById('risk-level-label').textContent = lang.riskLevelLabel;
            document.getElementById('last-update-label').textContent = lang.lastUpdateLabel;
            document.getElementById('chart-risk-title').textContent = lang.chartRiskTitle;
            document.getElementById('chart-indicators-title').textContent = lang.chartIndicatorsTitle;
            document.getElementById('table-title').textContent = lang.tableTitle;
            document.getElementById('th-indicator').textContent = lang.thIndicator;
            document.getElementById('th-current').textContent = lang.thCurrent;
            document.getElementById('th-change').textContent = lang.thChange;
            document.getElementById('th-risk').textContent = lang.thRisk;
            document.getElementById('th-updated').textContent = lang.thUpdated;
            document.getElementById('info-title').textContent = lang.infoTitle;
            document.getElementById('lang-switch').textContent = lang.langSwitch;
            document.getElementById('info-content').innerHTML = lang.infoContent;
            
            // 更新页面语言属性
            document.documentElement.lang = currentLanguage;
        }

        // 模拟数据加载
        function loadDemoData() {
            // 模拟风险评分
            setTimeout(() => {
                document.getElementById('risk-score').innerHTML = '<span class="risk-medium">65.2</span>';
                document.getElementById('risk-level').innerHTML = '<span class="risk-medium">中等风险</span>';
                document.getElementById('last-update').textContent = new Date().toLocaleString();
            }, 1000);

            // 模拟表格数据
            setTimeout(() => {
                const tableData = [
                    { indicator: '失业率 (UNRATE)', current: '3.9%', change: '+0.1%', risk: '15.2', updated: '2024-01-15' },
                    { indicator: '收益率曲线 (10Y-2Y)', current: '0.85%', change: '+0.05%', risk: '12.8', updated: '2024-01-15' },
                    { indicator: '消费者信心指数', current: '72.8', change: '-2.1', risk: '18.7', updated: '2024-01-12' },
                    { indicator: '工业生产指数', current: '2.1%', change: '-0.3%', risk: '8.9', updated: '2024-01-10' },
                    { indicator: '初请失业金', current: '218K', change: '+5K', risk: '9.6', updated: '2024-01-16' }
                ];

                let tableHTML = '';
                tableData.forEach(row => {
                    const riskClass = parseFloat(row.risk) > 15 ? 'risk-high' : 
                                     parseFloat(row.risk) > 10 ? 'risk-medium' : 'risk-low';
                    tableHTML += `
                        <tr>
                            <td>${row.indicator}</td>
                            <td>${row.current}</td>
                            <td>${row.change}</td>
                            <td class="${riskClass}">${row.risk}</td>
                            <td>${row.updated}</td>
                        </tr>
                    `;
                });
                document.getElementById('indicators-table').innerHTML = tableHTML;
            }, 1500);

            // 初始化图表
            setTimeout(() => {
                initCharts();
            }, 2000);
        }

        function initCharts() {
            // 风险趋势图
            const riskCtx = document.getElementById('riskChart').getContext('2d');
            new Chart(riskCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '风险评分',
                        data: [45.2, 52.1, 58.7, 62.3, 65.2, 65.2],
                        borderColor: '#ffd700',
                        backgroundColor: 'rgba(255, 215, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#f0f6fc' }
                        }
                    },
                    scales: {
                        y: {
                            grid: { color: '#30363d' },
                            ticks: { color: '#8b949e' }
                        },
                        x: {
                            grid: { color: '#30363d' },
                            ticks: { color: '#8b949e' }
                        }
                    }
                }
            });

            // 关键指标图
            const indicatorsCtx = document.getElementById('indicatorsChart').getContext('2d');
            new Chart(indicatorsCtx, {
                type: 'bar',
                data: {
                    labels: ['失业率', '收益率曲线', '消费者信心', '工业生产', '初请失业金'],
                    datasets: [{
                        label: '风险贡献度',
                        data: [15.2, 12.8, 18.7, 8.9, 9.6],
                        backgroundColor: [
                            '#fb8500',
                            '#fb8500', 
                            '#da3633',
                            '#238636',
                            '#238636'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#f0f6fc' }
                        }
                    },
                    scales: {
                        y: {
                            grid: { color: '#30363d' },
                            ticks: { color: '#8b949e' }
                        },
                        x: {
                            grid: { color: '#30363d' },
                            ticks: { color: '#8b949e' }
                        }
                    }
                }
            });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateLanguage();
            loadDemoData();
        });
    </script>
</body>
</html>